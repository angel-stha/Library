{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\User\\\\LibraryFront-master\\\\src\\\\Student\\\\Reserve.js\";\nimport React, { Component } from \"react\";\nimport Input from \"../components/input/input\";\nimport axios from \"axios\";\nimport \"../App.css\";\nimport { Form } from \"react-bootstrap\";\nimport { FormControl } from \"react-bootstrap\";\n\nclass Reserve extends Component {\n  constructor(props) {\n    super();\n\n    this.onSubmitHandler = event => {\n      console.log(this.state.Search);\n      axios.get(\"http://localhost:8081/searchbooks\", {\n        params: {\n          search: this.state.Search\n        }\n      }).then(res => {\n        console.log(res.data);\n        this.setState({\n          searchItems: res.data\n        });\n        window.result = res.data;\n        console.log(window.result);\n      }).catch(error => {\n        console.log(\"Error\");\n      });\n    };\n\n    this.onReserveHandler = (title, isbn, roll) => {\n      var data = {\n        ReserveTime: this.state.ReserveTime,\n        Title: title,\n        ISBN: isbn,\n        Rollno: roll\n      };\n      var rol = /[0-9][0-9][0-9][Bb][CEMGAcemga][TELXIMtelxim][0-9][0-9][0-9]/;\n\n      if (rol.test(this.state.Rollno) == false) {\n        alert('Rollno in format 073BCT604 i.e YearFacultyRoll');\n      } else {\n        axios.post(\"http://localhost:8081/reserve\", data).then(res => {\n          console.log(res.data);\n\n          if (res.data == 'Book Issued and Reserved More than 7') {\n            alert('Book Issued and Reserved More than 7');\n            this.props.history.push('/reserve-book');\n            window.location.reload();\n          } else {\n            alert('Book reserved');\n            window.location.reload();\n          }\n        }).catch(error => {\n          console.log(\"Error\");\n        });\n      }\n    };\n\n    this.state = {\n      Search: \"\",\n      searchItems: [],\n      ReserveTime: \"\",\n      Rollno: \"\"\n    };\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73\n      },\n      __self: this\n    }, React.createElement(Input, {\n      inputSize: \"input\",\n      placeholder: \"Search\",\n      value: this.state.Search,\n      changed: e => this.setState({\n        Search: e.target.value\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74\n      },\n      __self: this\n    }), React.createElement(\"button\", {\n      onClick: this.onSubmitHandler,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80\n      },\n      __self: this\n    }, \"Search\"), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81\n      },\n      __self: this\n    }, this.state.searchItems.map((item, index) => {\n      console.log(item);\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86\n        },\n        __self: this\n      }, React.createElement(\"li\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87\n        },\n        __self: this\n      }, item.SN), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88\n        },\n        __self: this\n      }, \"SN:\", item.SN), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89\n        },\n        __self: this\n      }, \"ISBN:\", item.ISBN), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90\n        },\n        __self: this\n      }, \"Title:\", item.Title), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91\n        },\n        __self: this\n      }, \"Author:\", item.Author), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92\n        },\n        __self: this\n      }, \"Publication:\", item.Publication), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93\n        },\n        __self: this\n      }, \"Quantity:\", item.Quantity), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94\n        },\n        __self: this\n      }, \"Type:\", item.Type), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95\n        },\n        __self: this\n      }, React.createElement(Input, {\n        className: \"input\",\n        placeholder: \"confirm Roll\",\n        value: this.state.Rollno,\n        changed: e => this.setState({\n          Rollno: e.target.value\n        }),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        onClick: () => this.onReserveHandler(item.Title, item.ISBN, this.state.Rollno),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104\n        },\n        __self: this\n      }, \"Reserve\")));\n    })));\n  }\n\n}\n\nexport default Reserve;","map":{"version":3,"sources":["C:\\Users\\User\\LibraryFront-master\\src\\Student\\Reserve.js"],"names":["React","Component","Input","axios","Form","FormControl","Reserve","constructor","props","onSubmitHandler","event","console","log","state","Search","get","params","search","then","res","data","setState","searchItems","window","result","catch","error","onReserveHandler","title","isbn","roll","ReserveTime","Title","ISBN","Rollno","rol","test","alert","post","history","push","location","reload","render","e","target","value","map","item","index","SN","Author","Publication","Quantity","Type"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport Input from \"../components/input/input\";\nimport axios from \"axios\";\nimport \"../App.css\";\nimport { Form } from \"react-bootstrap\";\nimport { FormControl } from \"react-bootstrap\";\nclass Reserve extends Component {\n  constructor(props) {\n    super();\n    this.state = {\n      Search: \"\",\n      searchItems: [],\n      ReserveTime: \"\",\n      Rollno:\"\"\n    };\n  }\n\n  onSubmitHandler = event => {\n   \n   \n\n    console.log(this.state.Search);\n    axios\n      .get(\"http://localhost:8081/searchbooks\", {\n        params: {\n          search: this.state.Search\n        }\n      })\n      .then(res => {\n        console.log(res.data);\n        this.setState({ searchItems: res.data });\n        window.result = res.data;\n        console.log(window.result);\n      })\n      .catch(error => {\n        console.log(\"Error\");\n      });\n    \n  };\n  onReserveHandler = (title, isbn,roll) => {\n    var data = {\n      ReserveTime: this.state.ReserveTime,\n      Title:title,\n      ISBN:isbn,\n      Rollno:roll\n    };\n    var rol=/[0-9][0-9][0-9][Bb][CEMGAcemga][TELXIMtelxim][0-9][0-9][0-9]/;\n    if(rol.test(this.state.Rollno)==false){\n alert('Rollno in format 073BCT604 i.e YearFacultyRoll');\n    }\n    else{\n    axios\n      .post(\"http://localhost:8081/reserve\", data)\n      .then(res => {\n        console.log(res.data);\n        if(res.data=='Book Issued and Reserved More than 7'){\n          alert('Book Issued and Reserved More than 7');\n          this.props.history.push('/reserve-book');\n          window.location.reload();\n        }\n        else{\n          alert('Book reserved');\n          window.location.reload();\n        }\n      })\n      .catch(error => {\n        console.log(\"Error\");\n      });\n    }\n  };\n  render() {\n    return (\n      <div>\n        <Input\n          inputSize=\"input\"\n          placeholder=\"Search\"\n          value={this.state.Search}\n          changed={e => this.setState({ Search: e.target.value })}\n        />\n        <button onClick={this.onSubmitHandler}>Search</button>\n        <div>\n          {this.state.searchItems.map((item, index) => {\n            console.log(item);\n            \n            return (\n              <div>\n                <li>{item.SN}</li>\n                <div>SN:{item.SN}</div>\n                <div>ISBN:{item.ISBN}</div>\n                <div>Title:{item.Title}</div>\n                <div>Author:{item.Author}</div>\n                <div>Publication:{item.Publication}</div>\n                <div>Quantity:{item.Quantity}</div>\n                <div>Type:{item.Type}</div>\n                <div>\n                  <Input\n                    className=\"input\"\n                    placeholder=\"confirm Roll\"\n                    value={this.state.Rollno}\n                    changed={e => this.setState({ Rollno: e.target.value })}\n                  />\n                </div>\n                <div>\n                  <button\n                    onClick={() => this.onReserveHandler(item.Title, item.ISBN,this.state.Rollno)}\n                  >\n                    Reserve\n                  </button>\n                </div>\n              </div>\n            );\n          })}\n        </div>\n      </div>\n    );\n  }\n}\nexport default Reserve;\n"]},"metadata":{},"sourceType":"module"}