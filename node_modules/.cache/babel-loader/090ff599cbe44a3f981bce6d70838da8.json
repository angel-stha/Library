{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\User\\\\LibraryFront-master\\\\src\\\\Student\\\\StudentHome.js\";\nimport React, { Component } from \"react\";\nimport { Navbar, Nav } from \"react-bootstrap\";\nimport { NavLink } from \"react-router-dom\";\nimport { Button } from \"react-bootstrap\";\nimport { Form } from \"react-bootstrap\";\nimport { FormControl } from \"react-bootstrap\";\nimport { withRouter } from \"react-router-dom\";\nimport axios from \"axios\";\nimport \"./StudentHome.css\";\nimport Input from '../components/input/input';\n\nclass StudentHome extends Component {\n  constructor(props) {\n    super();\n\n    this.onSubmitHandler = event => {\n      // <NavLink to='/Search'> </NavLink>\n      var data = {\n        search: this.state.Search\n      };\n      console.log(this.state.Search);\n      axios.get(\"http://localhost:8081/searchbooks\", {\n        params: {\n          search: this.state.Search\n        }\n      }).then(res => {\n        // console.log(res.data);\n        this.setState({\n          searchItems: res.data\n        });\n        window.result = res.data;\n        console.log(window.result);\n      }).catch(error => {\n        console.log(\"Error\");\n      });\n      this.props.history.push('/search');\n    };\n\n    this.addComment = (title, isbn, comment) => {\n      console.log(\"Title and barcode is\", title, isbn);\n      var data = {\n        ISBN: isbn,\n        Comment: comment,\n        Title: title\n      };\n      axios.post('http://localhost:8081/addComment', data).then(res => {\n        console.log(comment);\n        console.log(res.data);\n\n        if (res.data == 'Comment Added') {\n          alert('Comment added on' + ' ' + 'book' + ' ' + title);\n          window.location.reload();\n        }\n      }).catch(error => {\n        console.log(\"Error\");\n      });\n    };\n\n    this.viewComment = (title, isbn) => {\n      axios.get(\"http://localhost:8081/viewComment\", {\n        params: {\n          ISBN: isbn\n        }\n      }).then(res => {\n        console.log(res.data);\n        this.setState({\n          commentItems: res.data\n        });\n      }).catch(error => {\n        console.log(\"Error\");\n      });\n    };\n\n    this.logoutHandler = () => {\n      localStorage.clear();\n      this.location.reload();\n    };\n\n    this.state = {\n      Search: \"\",\n      searchItems: [],\n      noticeItems: [],\n      commentItems: [],\n      searchItem: {},\n      Comment: \"\"\n    };\n  }\n\n  getdata() {\n    axios.get(\"http://localhost:8081/postnotice\").then(res => {\n      console.log(res.data);\n      this.setState({\n        noticeItems: res.data\n      });\n    }).catch(error => {\n      console.log(\"Error\");\n    });\n  }\n\n  componentDidMount() {\n    this.getdata();\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      className: \"App\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106\n      },\n      __self: this\n    }, React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107\n      },\n      __self: this\n    }), React.createElement(Navbar, {\n      bg: \"primary\",\n      variant: \"dark\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108\n      },\n      __self: this\n    }, React.createElement(Navbar.Brand, {\n      href: \"#home\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109\n      },\n      __self: this\n    }, \"Library Management System\"), React.createElement(Nav, {\n      className: \"mr-auto\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110\n      },\n      __self: this\n    }, React.createElement(NavLink, {\n      to: \"/reserve-book\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112\n      },\n      __self: this\n    }, \" \", React.createElement(Nav.Link, {\n      href: \"#ReserveBook\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114\n      },\n      __self: this\n    }, \"Reserve Book\")), React.createElement(NavLink, {\n      to: \"/my-profile\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116\n      },\n      __self: this\n    }, React.createElement(Nav.Link, {\n      href: \"#myprofile\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117\n      },\n      __self: this\n    }, \"My Profile\"))), React.createElement(Form, {\n      inline: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121\n      },\n      __self: this\n    }, React.createElement(FormControl, {\n      placeholder: \"Search\",\n      value: this.state.Search,\n      onChange: e => this.setState({\n        Search: e.target.value\n      }),\n      className: \"mr_sm-2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122\n      },\n      __self: this\n    }), React.createElement(Button, {\n      variant: \"outline-light\",\n      onClick: this.onSubmitHandler,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128\n      },\n      __self: this\n    }, \"Search\"))), this.props.history.location.pathname === \"/search\" && React.createElement(\"div\", {\n      className: \"SearchOutput\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"searchhead search\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137\n      },\n      __self: this\n    }, \"ISBN\"), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138\n      },\n      __self: this\n    }, \"Title\"), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139\n      },\n      __self: this\n    }, \"Author\"), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140\n      },\n      __self: this\n    }, \"Publication\"), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141\n      },\n      __self: this\n    }, \"Quantity\"), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142\n      },\n      __self: this\n    }, \"Available Quantity\"), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143\n      },\n      __self: this\n    }, \"Type\"), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144\n      },\n      __self: this\n    }, \"Comment\"), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145\n      },\n      __self: this\n    }, \"Add\")), this.state.searchItems.map((item, index) => {\n      console.log(item);\n      return React.createElement(\"div\", {\n        className: \"search\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 151\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 153\n        },\n        __self: this\n      }, item.ISBN), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 154\n        },\n        __self: this\n      }, item.Title), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 155\n        },\n        __self: this\n      }, item.Author), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 156\n        },\n        __self: this\n      }, item.Publication), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 157\n        },\n        __self: this\n      }, item.Quantity), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 158\n        },\n        __self: this\n      }, item.Available_Quantity), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 159\n        },\n        __self: this\n      }, item.Type), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 160\n        },\n        __self: this\n      }, React.createElement(Input, {\n        inputSize: \"inputSmall\",\n        type: \"text\",\n        placeholder: \"Comment\",\n        value: this.state.Comment,\n        changed: e => this.setState({\n          Comment: e.target.value\n        }),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 161\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 169\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        onClick: () => this.addComment(item.Title, item.ISBN, this.state.Comment),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 170\n        },\n        __self: this\n      }, \"Add\")), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 177\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        onClick: () => this.viewComment(item.Title, item.ISBN),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 177\n        },\n        __self: this\n      }, \"View Comment\")));\n    })), this.props.history.location.pathname === \"/search\" && React.createElement(\"div\", {\n      className: \"SearchOutput\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 184\n      },\n      __self: this\n    }, this.state.commentItems.map((item, index) => {\n      console.log(item);\n      return React.createElement(\"div\", {\n        className: \"comment\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 189\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 191\n        },\n        __self: this\n      }, \"Rollno:\", item.Rollno), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 192\n        },\n        __self: this\n      }, \"Title:\", item.Title), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 193\n        },\n        __self: this\n      }, item.Comments));\n    })), this.props.history.location.pathname === \"/\" && React.createElement(\"div\", {\n      className: \"post\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 199\n      },\n      __self: this\n    }, this.state.noticeItems.map((item, index) => {\n      console.log(item);\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 204\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 205\n        },\n        __self: this\n      }, item.Subject), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 206\n        },\n        __self: this\n      }, item.Notice));\n    })));\n  }\n\n}\n\nexport default withRouter(StudentHome);","map":{"version":3,"sources":["C:\\Users\\User\\LibraryFront-master\\src\\Student\\StudentHome.js"],"names":["React","Component","Navbar","Nav","NavLink","Button","Form","FormControl","withRouter","axios","Input","StudentHome","constructor","props","onSubmitHandler","event","data","search","state","Search","console","log","get","params","then","res","setState","searchItems","window","result","catch","error","history","push","addComment","title","isbn","comment","ISBN","Comment","Title","post","alert","location","reload","viewComment","commentItems","logoutHandler","localStorage","clear","noticeItems","searchItem","getdata","componentDidMount","render","e","target","value","pathname","map","item","index","Author","Publication","Quantity","Available_Quantity","Type","Rollno","Comments","Subject","Notice"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,MAAT,EAAiBC,GAAjB,QAA4B,iBAA5B;AACA,SAASC,OAAT,QAAwB,kBAAxB;AACA,SAASC,MAAT,QAAuB,iBAAvB;AACA,SAASC,IAAT,QAAqB,iBAArB;AACA,SAASC,WAAT,QAA4B,iBAA5B;AACA,SAASC,UAAT,QAA2B,kBAA3B;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAO,mBAAP;AACA,OAAOC,KAAP,MAAkB,2BAAlB;;AACA,MAAMC,WAAN,SAA0BV,SAA1B,CAAoC;AAClCW,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACjB;;AADiB,SAYnBC,eAZmB,GAYDC,KAAK,IAAI;AACzB;AACA,UAAIC,IAAI,GAAG;AACTC,QAAAA,MAAM,EAAE,KAAKC,KAAL,CAAWC;AADV,OAAX;AAGAC,MAAAA,OAAO,CAACC,GAAR,CAAY,KAAKH,KAAL,CAAWC,MAAvB;AACAV,MAAAA,KAAK,CACFa,GADH,CACO,mCADP,EAC4C;AACxCC,QAAAA,MAAM,EAAE;AACNN,UAAAA,MAAM,EAAE,KAAKC,KAAL,CAAWC;AADb;AADgC,OAD5C,EAMGK,IANH,CAMQC,GAAG,IAAI;AACX;AACA,aAAKC,QAAL,CAAc;AAAEC,UAAAA,WAAW,EAAEF,GAAG,CAACT;AAAnB,SAAd;AACAY,QAAAA,MAAM,CAACC,MAAP,GAAgBJ,GAAG,CAACT,IAApB;AACAI,QAAAA,OAAO,CAACC,GAAR,CAAYO,MAAM,CAACC,MAAnB;AACD,OAXH,EAYGC,KAZH,CAYSC,KAAK,IAAI;AACdX,QAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ;AACD,OAdH;AAeE,WAAKR,KAAL,CAAWmB,OAAX,CAAmBC,IAAnB,CAAwB,SAAxB;AAEH,KAnCkB;;AAAA,SAoCnBC,UApCmB,GAoCR,CAACC,KAAD,EAAQC,IAAR,EAAaC,OAAb,KAAuB;AAChCjB,MAAAA,OAAO,CAACC,GAAR,CAAY,sBAAZ,EAAoCc,KAApC,EAA2CC,IAA3C;AACA,UAAIpB,IAAI,GAAC;AACLsB,QAAAA,IAAI,EAACF,IADA;AAELG,QAAAA,OAAO,EAACF,OAFH;AAGLG,QAAAA,KAAK,EAACL;AAHD,OAAT;AAKE1B,MAAAA,KAAK,CAACgC,IAAN,CAAW,kCAAX,EAA8CzB,IAA9C,EACCQ,IADD,CACMC,GAAG,IAAI;AACPL,QAAAA,OAAO,CAACC,GAAR,CAAYgB,OAAZ;AACEjB,QAAAA,OAAO,CAACC,GAAR,CAAYI,GAAG,CAACT,IAAhB;;AACA,YAAGS,GAAG,CAACT,IAAJ,IAAU,eAAb,EAA6B;AACzB0B,UAAAA,KAAK,CAAC,qBAAmB,GAAnB,GAAuB,MAAvB,GAA8B,GAA9B,GAAkCP,KAAnC,CAAL;AACAP,UAAAA,MAAM,CAACe,QAAP,CAAgBC,MAAhB;AACH;AACJ,OARL,EASKd,KATL,CASYC,KAAD,IAAW;AACdX,QAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ;AACH,OAXL;AAYD,KAvDgB;;AAAA,SAwDjBwB,WAxDiB,GAwDL,CAACV,KAAD,EAAQC,IAAR,KAAe;AACzB3B,MAAAA,KAAK,CACFa,GADH,CACO,mCADP,EAC4C;AACxCC,QAAAA,MAAM,EAAE;AACNe,UAAAA,IAAI,EAAEF;AADA;AADgC,OAD5C,EAMGZ,IANH,CAMQC,GAAG,IAAI;AACXL,QAAAA,OAAO,CAACC,GAAR,CAAYI,GAAG,CAACT,IAAhB;AACA,aAAKU,QAAL,CAAc;AAAEoB,UAAAA,YAAY,EAAErB,GAAG,CAACT;AAApB,SAAd;AACD,OATH,EAUGc,KAVH,CAUSC,KAAK,IAAI;AACdX,QAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ;AACD,OAZH;AAcD,KAvEgB;;AAAA,SAwEjB0B,aAxEiB,GAwEH,MAAI;AAChBC,MAAAA,YAAY,CAACC,KAAb;AACA,WAAKN,QAAL,CAAcC,MAAd;AACD,KA3EgB;;AAEjB,SAAK1B,KAAL,GAAa;AACXC,MAAAA,MAAM,EAAE,EADG;AAEXQ,MAAAA,WAAW,EAAE,EAFF;AAGXuB,MAAAA,WAAW,EAAE,EAHF;AAIXJ,MAAAA,YAAY,EAAE,EAJH;AAKXK,MAAAA,UAAU,EAAE,EALD;AAMXZ,MAAAA,OAAO,EAAC;AANG,KAAb;AAQD;;AAkECa,EAAAA,OAAO,GAAE;AACP3C,IAAAA,KAAK,CAACa,GAAN,CAAU,kCAAV,EACCE,IADD,CACMC,GAAG,IAAI;AACXL,MAAAA,OAAO,CAACC,GAAR,CAAYI,GAAG,CAACT,IAAhB;AACA,WAAKU,QAAL,CAAc;AAAEwB,QAAAA,WAAW,EAAEzB,GAAG,CAACT;AAAnB,OAAd;AAGD,KAND,EAOCc,KAPD,CAOOC,KAAK,IAAI;AACdX,MAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ;AACD,KATD;AAUD;;AACDgC,EAAAA,iBAAiB,GAAE;AACtB,SAAKD,OAAL;AACI;;AACHE,EAAAA,MAAM,GAAE;AAEN,WACE;AAAK,MAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,EAEE,oBAAC,MAAD;AAAQ,MAAA,EAAE,EAAC,SAAX;AAAqB,MAAA,OAAO,EAAC,MAA7B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,MAAD,CAAQ,KAAR;AAAc,MAAA,IAAI,EAAC,OAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mCADF,EAEE,oBAAC,GAAD;AAAK,MAAA,SAAS,EAAC,SAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAEE,oBAAC,OAAD;AAAS,MAAA,EAAE,EAAC,eAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACG,GADH,EAEE,oBAAC,GAAD,CAAK,IAAL;AAAU,MAAA,IAAI,EAAC,cAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAFF,CAFF,EAME,oBAAC,OAAD;AAAS,MAAA,EAAE,EAAC,aAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,GAAD,CAAK,IAAL;AAAU,MAAA,IAAI,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADF,CANF,CAFF,EAaE,oBAAC,IAAD;AAAM,MAAA,MAAM,MAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,WAAD;AACE,MAAA,WAAW,EAAC,QADd;AAEE,MAAA,KAAK,EAAE,KAAKpC,KAAL,CAAWC,MAFpB;AAGE,MAAA,QAAQ,EAAEoC,CAAC,IAAI,KAAK7B,QAAL,CAAc;AAAEP,QAAAA,MAAM,EAAEoC,CAAC,CAACC,MAAF,CAASC;AAAnB,OAAd,CAHjB;AAIE,MAAA,SAAS,EAAC,SAJZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,EAOE,oBAAC,MAAD;AAAQ,MAAA,OAAO,EAAC,eAAhB;AAAgC,MAAA,OAAO,EAAE,KAAK3C,eAA9C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAPF,CAbF,CAFF,EA4BI,KAAKD,KAAL,CAAWmB,OAAX,CAAmBW,QAAnB,CAA4Be,QAA5B,KAAyC,SAAzC,IAAsD;AAAK,MAAA,SAAS,EAAG,cAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACxD;AAAK,MAAA,SAAS,EAAC,mBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAEc;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAFd,EAGc;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eAHd,EAIc;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAJd,EAKc;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBALd,EAMc;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBANd,EAOc;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4BAPd,EAQc;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cARd,EASc;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBATd,EAUc;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aAVd,CADwD,EAcrD,KAAKxC,KAAL,CAAWS,WAAX,CAAuBgC,GAAvB,CAA2B,CAACC,IAAD,EAAOC,KAAP,KAAiB;AAC3CzC,MAAAA,OAAO,CAACC,GAAR,CAAYuC,IAAZ;AACA,aACE;AAAK,QAAA,SAAS,EAAC,QAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAMA,IAAI,CAACtB,IAAX,CAFF,EAGE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAMsB,IAAI,CAACpB,KAAX,CAHF,EAIE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAMoB,IAAI,CAACE,MAAX,CAJF,EAKE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAMF,IAAI,CAACG,WAAX,CALF,EAME;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAMH,IAAI,CAACI,QAAX,CANF,EAOE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAMJ,IAAI,CAACK,kBAAX,CAPF,EAQE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAML,IAAI,CAACM,IAAX,CARF,EASC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,KAAD;AACD,QAAA,SAAS,EAAC,YADT;AAED,QAAA,IAAI,EAAC,MAFJ;AAGD,QAAA,WAAW,EAAC,SAHX;AAID,QAAA,KAAK,EAAE,KAAKhD,KAAL,CAAWqB,OAJjB;AAKD,QAAA,OAAO,EAAEgB,CAAC,IAAI,KAAK7B,QAAL,CAAc;AAAEa,UAAAA,OAAO,EAAEgB,CAAC,CAACC,MAAF,CAASC;AAApB,SAAd,CALb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,CATD,EAkBF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACM;AACE,QAAA,OAAO,EAAE,MAAM,KAAKvB,UAAL,CAAgB0B,IAAI,CAACpB,KAArB,EAA4BoB,IAAI,CAACtB,IAAjC,EAAsC,KAAKpB,KAAL,CAAWqB,OAAjD,CADjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eADN,CAlBE,EA0BE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAK;AACL,QAAA,OAAO,EAAE,MAAM,KAAKM,WAAL,CAAiBe,IAAI,CAACpB,KAAtB,EAA6BoB,IAAI,CAACtB,IAAlC,CADV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBAAL,CA1BF,CADF;AAgCD,KAlCA,CAdqD,CA5B1D,EA8EI,KAAKzB,KAAL,CAAWmB,OAAX,CAAmBW,QAAnB,CAA4Be,QAA5B,KAAyC,SAAzC,IAAsD;AAAK,MAAA,SAAS,EAAG,cAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAErD,KAAKxC,KAAL,CAAW4B,YAAX,CAAwBa,GAAxB,CAA4B,CAACC,IAAD,EAAOC,KAAP,KAAiB;AAC5CzC,MAAAA,OAAO,CAACC,GAAR,CAAYuC,IAAZ;AACA,aACE;AAAK,QAAA,SAAS,EAAC,SAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAAaA,IAAI,CAACO,MAAlB,CAFF,EAGC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAAYP,IAAI,CAACpB,KAAjB,CAHD,EAIE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAMoB,IAAI,CAACQ,QAAX,CAJF,CADF;AAQD,KAVA,CAFqD,CA9E1D,EA6FI,KAAKvD,KAAL,CAAWmB,OAAX,CAAmBW,QAAnB,CAA4Be,QAA5B,KAAyC,GAAzC,IAAgD;AAAK,MAAA,SAAS,EAAC,MAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAE5C,KAAKxC,KAAL,CAAWgC,WAAX,CAAuBS,GAAvB,CAA2B,CAACC,IAAD,EAAOC,KAAP,KAAiB;AAC9CzC,MAAAA,OAAO,CAACC,GAAR,CAAYuC,IAAZ;AACE,aACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAMA,IAAI,CAACS,OAAX,CADD,EAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAMT,IAAI,CAACU,MAAX,CAFF,CADA;AAMM,KARN,CAF4C,CA7FpD,CADF;AAgHG;;AA9M6B;;AAgNlC,eAAe9D,UAAU,CAACG,WAAD,CAAzB","sourcesContent":["import React, { Component } from \"react\";\nimport { Navbar, Nav } from \"react-bootstrap\";\nimport { NavLink } from \"react-router-dom\";\nimport { Button } from \"react-bootstrap\";\nimport { Form } from \"react-bootstrap\";\nimport { FormControl } from \"react-bootstrap\";\nimport { withRouter } from \"react-router-dom\";\nimport axios from \"axios\";\nimport \"./StudentHome.css\";\nimport Input from '../components/input/input';\nclass StudentHome extends Component {\n  constructor(props) {\n    super();\n    this.state = {\n      Search: \"\",\n      searchItems: [],\n      noticeItems: [],\n      commentItems: [],\n      searchItem: {},\n      Comment:\"\",\n    };\n  }\n\n  onSubmitHandler = event => {\n    // <NavLink to='/Search'> </NavLink>\n    var data = {\n      search: this.state.Search\n    };\n    console.log(this.state.Search);\n    axios\n      .get(\"http://localhost:8081/searchbooks\", {\n        params: {\n          search: this.state.Search\n        }\n      })\n      .then(res => {\n        // console.log(res.data);\n        this.setState({ searchItems: res.data });\n        window.result = res.data;\n        console.log(window.result);\n      })\n      .catch(error => {\n        console.log(\"Error\");\n      });\n      this.props.history.push('/search');\n\n  };\n  addComment=(title, isbn,comment)=>{\n    console.log(\"Title and barcode is\", title, isbn);\n    var data={\n        ISBN:isbn,\n        Comment:comment,\n        Title:title\n    }\n      axios.post('http://localhost:8081/addComment',data)\n      .then(res => {\n            console.log(comment);\n              console.log(res.data);\n              if(res.data=='Comment Added'){\n                  alert('Comment added on'+' '+'book'+' '+title);\n                  window.location.reload();\n              }\n          })\n          .catch((error) => {\n              console.log(\"Error\");\n          });\n    }\n    viewComment=(title, isbn)=>{\n      axios\n        .get(\"http://localhost:8081/viewComment\", {\n          params: {\n            ISBN: isbn\n          }\n        })\n        .then(res => {\n          console.log(res.data);\n          this.setState({ commentItems: res.data });\n        })\n        .catch(error => {\n          console.log(\"Error\");\n        });\n  \n    };\n    logoutHandler=()=>{\n      localStorage.clear();\n      this.location.reload();\n    }\n    getdata(){\n      axios.get(\"http://localhost:8081/postnotice\")\n      .then(res => {\n        console.log(res.data);\n        this.setState({ noticeItems: res.data });\n        \n       \n      })\n      .catch(error => {\n        console.log(\"Error\");\n      }); \n    }\n    componentDidMount(){\n this.getdata();\n    }\n  render(){\n\n    return (\n      <div className=\"App\">\n        <br />\n        <Navbar bg=\"primary\" variant=\"dark\">\n          <Navbar.Brand href=\"#home\">Library Management System</Navbar.Brand>\n          <Nav className=\"mr-auto\">\n            {/* <Link to='/add-book'>Add</Link> */}\n            <NavLink to=\"/reserve-book\">\n              {\" \"}\n              <Nav.Link href=\"#ReserveBook\">Reserve Book</Nav.Link>\n            </NavLink>\n            <NavLink to=\"/my-profile\">\n              <Nav.Link href=\"#myprofile\">My Profile</Nav.Link>\n            </NavLink>\n         \n          </Nav>\n          <Form inline>\n            <FormControl\n              placeholder=\"Search\"\n              value={this.state.Search}\n              onChange={e => this.setState({ Search: e.target.value })}\n              className=\"mr_sm-2\"\n            />\n            <Button variant=\"outline-light\" onClick={this.onSubmitHandler}>\n              Search\n            </Button>\n          </Form>\n        </Navbar>\n        {/* <button onClick = {()=>logoutHandler()}>logout</button> */}\n        { this.props.history.location.pathname === \"/search\" && <div className = 'SearchOutput' >\n        <div className=\"searchhead search\" >\n        \n                      <div>ISBN</div>\n                      <div>Title</div>\n                      <div>Author</div>\n                      <div>Publication</div>\n                      <div>Quantity</div>\n                      <div>Available Quantity</div>\n                      <div>Type</div>\n                      <div>Comment</div>\n                      <div>Add</div>\n                      \n              </div>\n          {this.state.searchItems.map((item, index) => {\n            console.log(item);\n            return (\n              <div className=\"search\" >\n               \n                <div>{item.ISBN}</div>\n                <div>{item.Title}</div>\n                <div>{item.Author}</div>\n                <div>{item.Publication}</div>\n                <div>{item.Quantity}</div>\n                <div>{item.Available_Quantity}</div>\n                <div>{item.Type}</div>\n               <div> \n                 <Input\n                inputSize=\"inputSmall\"\n                type=\"text\"\n                placeholder='Comment'\n                value={this.state.Comment}\n                changed={e => this.setState({ Comment: e.target.value })}\n            />\n            </div>\n            <div>\n                  <button\n                    onClick={() => this.addComment(item.Title, item.ISBN,this.state.Comment)}\n                  >\n                  Add\n                  </button>\n                </div>\n                \n                <div><button \n                onClick={() => this.viewComment(item.Title, item.ISBN)}>\n                  View Comment</button></div>\n              </div>\n            );\n          })}\n        </div>}\n        { this.props.history.location.pathname === \"/search\" && <div className = 'SearchOutput' >\n      \n          {this.state.commentItems.map((item, index) => {\n            console.log(item);\n            return (\n              <div className=\"comment\" >\n               \n                <div>Rollno:{item.Rollno}</div>\n               <div>Title:{item.Title}</div>\n                <div>{item.Comments}</div>\n      </div>\n            )\n          })}\n          </div>\n        }\n        { this.props.history.location.pathname === \"/\" && <div className=\"post\">\n         \n             {this.state.noticeItems.map((item, index) => {\n            console.log(item);\n              return(\n              <div>\n               <div>{item.Subject}</div>\n                <div>{item.Notice}</div>\n              </div>\n              )\n                   })\n             \n           \n        \n    }\n        </div>}\n    </div>\n    )\n      }\n    }\n  export default withRouter(StudentHome);\n"]},"metadata":{},"sourceType":"module"}