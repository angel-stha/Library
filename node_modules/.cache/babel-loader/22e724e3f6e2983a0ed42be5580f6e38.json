{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\User\\\\LibraryFront-master\\\\src\\\\Librarian\\\\ViewNotice.js\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport './Homepage.css';\nimport Calendar from 'react-calendar';\n\nclass View extends Component {\n  constructor(props) {\n    super();\n\n    this.onChange = date => this.setState({\n      date\n    });\n\n    this.Deletehandler = (subject, notice) => {\n      var data = {\n        Subject: subject,\n        Notice: notice\n      };\n      axios.post(\"http://localhost:8081/deletepost\", data).then(res => {\n        console.log(res.data);\n\n        if (res.data == 'Post Deleted') {\n          alert('Post Deleted');\n          window.location.reload();\n        }\n      }).catch(error => {\n        console.log(\"Error\");\n      });\n    };\n\n    this.getData = () => {\n      axios.get(\"http://localhost:8081/postnotice\").then(res => {\n        console.log(res.data);\n        this.setState({\n          noticeItems: res.data\n        });\n      }).catch(error => {\n        console.log(\"Error\");\n      });\n    };\n\n    this.state = {\n      noticeItems: [],\n      date: new Date()\n    };\n  }\n\n  componentDidMount() {\n    this.getData();\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      className: \"post\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58\n      },\n      __self: this\n    }, this.props.history.location.pathname === \"/view-notice\" && React.createElement(\"div\", {\n      className: \"post\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59\n      },\n      __self: this\n    }, this.state.noticeItems.map((item, index) => {\n      console.log(item);\n      return React.createElement(\"div\", {\n        className: \"postUnit\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"subject\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64\n        },\n        __self: this\n      }, item.Subject)), React.createElement(\"div\", {\n        className: \"notice\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66\n        },\n        __self: this\n      }, \"Notice:\", item.Notice), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        onClick: () => this.Deletehandler(item.Subject, item.Notice),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68\n        },\n        __self: this\n      }, \"DELETE\")));\n    })), React.createElement(\"div\", {\n      className: \"calendar\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79\n      },\n      __self: this\n    }, \" \", React.createElement(Calendar, {\n      onChange: this.onChange,\n      value: this.state.date,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79\n      },\n      __self: this\n    }), \" \"));\n  }\n\n}\n\nexport default View;","map":{"version":3,"sources":["C:\\Users\\User\\LibraryFront-master\\src\\Librarian\\ViewNotice.js"],"names":["React","Component","axios","Calendar","View","constructor","props","onChange","date","setState","Deletehandler","subject","notice","data","Subject","Notice","post","then","res","console","log","alert","window","location","reload","catch","error","getData","get","noticeItems","state","Date","componentDidMount","render","history","pathname","map","item","index"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport axios from 'axios';\nimport './Homepage.css';\nimport Calendar from 'react-calendar';\n class View extends Component {\n    constructor(props) {\n        super();\n        this.state = {\n         \n          noticeItems: [],\n          date:new Date()\n        };\n    }\n    onChange = date => this.setState({ date }) \n   Deletehandler  = (subject,notice) => {\n     \n        var data = {\n          Subject:subject,\n         Notice:notice\n        };\n    \n        axios\n          .post(\"http://localhost:8081/deletepost\", data)\n          .then(res => {\n            console.log(res.data);\n            if(res.data=='Post Deleted'){\n              alert('Post Deleted');\n              window.location.reload();\n            }\n          })\n          .catch(error => {\n            console.log(\"Error\");\n          });\n      };\n      getData=()=>{\n        axios.get(\"http://localhost:8081/postnotice\")\n        .then(res => {\n          console.log(res.data);\n          this.setState({ noticeItems: res.data });\n          \n         \n        })\n        .catch(error => {\n          console.log(\"Error\");\n        }); \n      }\n      \n      componentDidMount(){\n        this.getData();\n      }\n\n\n    render() {\n        \n\n\n        return (\n            <div className=\"post\">\n              { this.props.history.location.pathname === \"/view-notice\" && <div className=\"post\">\n             {this.state.noticeItems.map((item, index) => {\n            console.log(item);\n              return(\n              <div className = \"postUnit\">\n               <div className = \"subject\"><div>{item.Subject}\n               </div></div>\n                <div className = \"notice\">Notice:{item.Notice}</div>\n            \n               <div><button   onClick={() => this.Deletehandler(item.Subject, item.Notice)}>DELETE</button></div>\n               </div> \n              )\n                   })\n             \n           \n        \n    }\n    </div>\n    }\n      \n        <div className='calendar'> <Calendar\n          onChange={this.onChange}\n          value={this.state.date}\n        /> </div>\n     </div>\n        )\n}\n}\n\nexport default View;"]},"metadata":{},"sourceType":"module"}