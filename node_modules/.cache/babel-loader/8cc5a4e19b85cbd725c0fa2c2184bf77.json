{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\User\\\\LibraryFront-master\\\\src\\\\Student\\\\Reserve.js\";\nimport React, { Component } from \"react\";\nimport Input from \"../components/input/input\";\nimport axios from \"axios\";\nimport \"../App.css\";\nimport { Form } from \"react-bootstrap\";\nimport { FormControl } from \"react-bootstrap\";\nimport \"./StudentHome.css\";\n\nclass Reserve extends Component {\n  constructor(props) {\n    super();\n\n    this.onSubmitHandler = event => {\n      console.log(this.state.Search);\n      axios.get(\"http://localhost:8081/searchbooks\", {\n        params: {\n          search: this.state.Search\n        }\n      }).then(res => {\n        console.log(res.data);\n        this.setState({\n          searchItems: res.data\n        });\n        window.result = res.data;\n        console.log(window.result);\n      }).catch(error => {\n        console.log(\"Error\");\n      });\n    };\n\n    this.onReserveHandler = (title, isbn, roll) => {\n      var data = {\n        ReserveTime: this.state.ReserveTime,\n        Title: title,\n        ISBN: isbn,\n        Rollno: roll\n      };\n      axios.post(\"http://localhost:8081/reserve\", data).then(res => {\n        console.log(res.data);\n\n        if (res.data == 'Book Issued and Reserved More than 7') {\n          alert('Book Issued and Reserved More than 7 or Same Book not Allowed');\n          this.props.history.push('/reserve-book');\n          window.location.reload();\n        } else {\n          alert('Book reserved');\n          window.location.reload();\n        }\n      }).catch(error => {\n        console.log(\"Error\");\n      });\n    };\n\n    this.state = {\n      Search: \"\",\n      searchItems: [],\n      ReserveTime: \"\",\n      Rollno: \"\"\n    };\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70\n      },\n      __self: this\n    }, React.createElement(Input, {\n      inputSize: \"input\",\n      placeholder: \"Search\",\n      value: this.state.Search,\n      changed: e => this.setState({\n        Search: e.target.value\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71\n      },\n      __self: this\n    }), React.createElement(\"button\", {\n      onClick: this.onSubmitHandler,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    }, \"Search\"), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"searchhead search\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81\n      },\n      __self: this\n    }, \"ISBN\"), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82\n      },\n      __self: this\n    }, \"Title\"), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83\n      },\n      __self: this\n    }, \"Author\"), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84\n      },\n      __self: this\n    }, \"Publication\"), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85\n      },\n      __self: this\n    }, \"Quantity\"), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86\n      },\n      __self: this\n    }, \"Available Quantity\"), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87\n      },\n      __self: this\n    }, \"Type\"), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    }, \"Comment\"), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }, \"Add\"), this.state.searchItems.map((item, index) => {\n      console.log(item);\n      return React.createElement(\"div\", {\n        className: \"search an\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97\n        },\n        __self: this\n      }, item.SN), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98\n        },\n        __self: this\n      }, item.ISBN), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99\n        },\n        __self: this\n      }, item.Title), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100\n        },\n        __self: this\n      }, item.Author), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 101\n        },\n        __self: this\n      }, item.Publication), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102\n        },\n        __self: this\n      }, item.Quantity), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103\n        },\n        __self: this\n      }, item.Type), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        class: \"button5\",\n        onClick: () => this.onReserveHandler(item.Title, item.ISBN),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 108\n        },\n        __self: this\n      }, \"Reserve\")));\n    }))));\n  }\n\n}\n\nexport default Reserve;","map":{"version":3,"sources":["C:\\Users\\User\\LibraryFront-master\\src\\Student\\Reserve.js"],"names":["React","Component","Input","axios","Form","FormControl","Reserve","constructor","props","onSubmitHandler","event","console","log","state","Search","get","params","search","then","res","data","setState","searchItems","window","result","catch","error","onReserveHandler","title","isbn","roll","ReserveTime","Title","ISBN","Rollno","post","alert","history","push","location","reload","render","e","target","value","map","item","index","SN","Author","Publication","Quantity","Type"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport Input from \"../components/input/input\";\nimport axios from \"axios\";\nimport \"../App.css\";\nimport { Form } from \"react-bootstrap\";\nimport { FormControl } from \"react-bootstrap\";\nimport \"./StudentHome.css\";\nclass Reserve extends Component {\n  constructor(props) {\n    super();\n    this.state = {\n      Search: \"\",\n      searchItems: [],\n      ReserveTime: \"\",\n      Rollno:\"\"\n    };\n  }\n\n  onSubmitHandler = event => {\n   \n   \n\n    console.log(this.state.Search);\n    axios\n      .get(\"http://localhost:8081/searchbooks\", {\n        params: {\n          search: this.state.Search\n        }\n      })\n      .then(res => {\n        console.log(res.data);\n        this.setState({ searchItems: res.data });\n        window.result = res.data;\n        console.log(window.result);\n      })\n      .catch(error => {\n        console.log(\"Error\");\n      });\n    \n  };\n  onReserveHandler = (title, isbn,roll) => {\n    var data = {\n      ReserveTime: this.state.ReserveTime,\n      Title:title,\n      ISBN:isbn,\n      Rollno:roll\n    };\n  \n    axios\n      .post(\"http://localhost:8081/reserve\", data)\n      .then(res => {\n        console.log(res.data);\n        if(res.data=='Book Issued and Reserved More than 7'){\n          alert('Book Issued and Reserved More than 7 or Same Book not Allowed');\n          this.props.history.push('/reserve-book');\n          window.location.reload();\n        }\n        else{\n          alert('Book reserved');\n          window.location.reload();\n        }\n      })\n      .catch(error => {\n        console.log(\"Error\");\n      });\n    \n  };\n  render() {\n    return (\n      <div>\n        <Input\n          inputSize=\"input\"\n          placeholder=\"Search\"\n          value={this.state.Search}\n          changed={e => this.setState({ Search: e.target.value })}\n        />\n        <button onClick={this.onSubmitHandler}>Search</button>\n        <div>\n        <div className=\"searchhead search\" >\n        \n        <div>ISBN</div>\n        <div>Title</div>\n        <div>Author</div>\n        <div>Publication</div>\n        <div>Quantity</div>\n        <div>Available Quantity</div>\n        <div>Type</div>\n        <div>Comment</div>\n        <div>Add</div>\n          {this.state.searchItems.map((item, index) => {\n            console.log(item);\n            \n            return (\n              \n                  <div className=\"search an\" >\n               \n                <div >{item.SN}</div>\n                <div>{item.ISBN}</div>\n                <div>{item.Title}</div>\n                <div>{item.Author}</div>\n                <div>{item.Publication}</div>\n                <div>{item.Quantity}</div>\n                <div>{item.Type}</div>\n                <div>\n                \n                </div>\n                <div>\n                  <button class=\"button5\"\n                    onClick={() => this.onReserveHandler(item.Title, item.ISBN)}\n                  >\n                    Reserve\n                  </button>\n                </div>\n              </div>\n            );\n          })}\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\nexport default Reserve;\n"]},"metadata":{},"sourceType":"module"}