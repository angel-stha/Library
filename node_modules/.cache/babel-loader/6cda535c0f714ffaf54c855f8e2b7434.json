{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\User\\\\LibraryFront-master\\\\src\\\\Librarian\\\\Issue.js\";\nimport React, { Component } from 'react';\nimport Input from '../components/input/input';\nimport '../App.css';\nimport axios from 'axios'; //import BarcodeInputs from './DelBarcode';\n//import { CLIENT_RENEG_LIMIT } from 'tls';\n\nimport Calendar from 'react-calendar';\n\nclass Issue extends Component {\n  constructor(props) {\n    super();\n\n    this.addBarcode = qty => {\n      this.setState({\n        barNos: qty\n      });\n    };\n\n    this.onSubmitHandler = event => {\n      var data = {\n        Rollno: this.state.Rollno,\n        Quantity: this.state.Quantity,\n        barcodes: this.state.barcodes\n      };\n      var rol = /[0-9][0-9][0-9][Bb][CEMGAcemga][TELXIMtelxim][0-9][0-9][0-9]/;\n\n      if (rol.test(this.state.Rollno) == false) {\n        alert('Rollno in format 073BCT604 i.e YearFacultyRoll');\n      } else {\n        axios.post('http://localhost:8081/issuebooks', data).then(res => {\n          console.log(res.data);\n\n          if (res.data == 'Book issued') {\n            this.props.history.push('/issue-book');\n            window.location.reload();\n            alert('Book issued in rollno ' + this.state.Rollno); //   this.props.history.push('/issue-book');\n            // window.location.relaod();\n          } else {\n            this.props.history.push('/issue-book');\n            window.location.reload();\n            alert('More than 7 books are not available');\n          }\n        }).catch(error => {\n          console.log(\"Error\");\n        });\n      }\n    };\n\n    this.handleCodeChange = (codeValue, counter) => {\n      let codes = this.state.barcodes;\n      codes[counter] = codeValue;\n      this.setState({\n        barcodes: codes\n      });\n      console.log(\"Barcode lists are:\", this.state.barcodes);\n    };\n\n    this.onChange = date => this.setState({\n      date\n    });\n\n    this.state = {\n      barcodes: [],\n      Rollno: \"\",\n      Quantity: 0,\n      Barcode: \"\",\n      barNos: 0,\n      date: new Date()\n    };\n  }\n\n  render() {\n    let barcodeList = [],\n        codes = [];\n    const barNos = this.state.barNos;\n\n    for (let counter = 0; counter < barNos; counter++) {\n      barcodeList.push(React.createElement(\"div\", {\n        key: counter,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        htmlFor: counter,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84\n        },\n        __self: this\n      }, \"Barcode \".concat(counter + 1)), React.createElement(Input, {\n        type: \"number\",\n        name: counter,\n        \"data-id\": counter,\n        id: counter,\n        value: \"\",\n        inputSize: \"inputSmall\",\n        changed: e => this.handleCodeChange(e.target.value, counter),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85\n        },\n        __self: this\n      })));\n    }\n\n    return React.createElement(\"div\", {\n      className: \"App left\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      className: \"Header\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104\n      },\n      __self: this\n    }, \"ISSUE BOOK\"), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105\n      },\n      __self: this\n    }, React.createElement(Input, {\n      inputSize: \"inputSmall\",\n      type: \"text\",\n      placeholder: \"Rollno\",\n      value: this.state.Rollno,\n      changed: e => this.setState({\n        Rollno: e.target.value\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114\n      },\n      __self: this\n    }, React.createElement(Input, {\n      inputSize: \"inputSmall\",\n      type: \"number\",\n      placeholder: \"Quantity\",\n      value: this.state.Quantity,\n      changed: e => this.setState({\n        Quantity: e.target.value\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115\n      },\n      __self: this\n    })), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123\n      },\n      __self: this\n    }), React.createElement(\"button\", {\n      onClick: () => this.addBarcode(this.state.Quantity),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125\n      },\n      __self: this\n    }, \"Add Barcode\"), barcodeList, React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127\n      },\n      __self: this\n    }), React.createElement(\"button\", {\n      class: \"button5 button2\",\n      onClick: this.onSubmitHandler,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128\n      },\n      __self: this\n    }, \"ISSUE\"), React.createElement(\"div\", {\n      className: \"calendar\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129\n      },\n      __self: this\n    }, \" \", React.createElement(Calendar, {\n      onChange: this.onChange,\n      value: this.state.date,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129\n      },\n      __self: this\n    }), \" \"));\n  }\n\n}\n\nexport default Issue;","map":{"version":3,"sources":["C:\\Users\\User\\LibraryFront-master\\src\\Librarian\\Issue.js"],"names":["React","Component","Input","axios","Calendar","Issue","constructor","props","addBarcode","qty","setState","barNos","onSubmitHandler","event","data","Rollno","state","Quantity","barcodes","rol","test","alert","post","then","res","console","log","history","push","window","location","reload","catch","error","handleCodeChange","codeValue","counter","codes","onChange","date","Barcode","Date","render","barcodeList","e","target","value"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport Input from '../components/input/input';\nimport '../App.css';\nimport axios from 'axios';\n//import BarcodeInputs from './DelBarcode';\n//import { CLIENT_RENEG_LIMIT } from 'tls';\nimport Calendar from 'react-calendar';\nclass Issue extends Component {\n    constructor(props) {\n        super();\n        this.state = {\n            barcodes: [],\n            Rollno: \"\",\n            Quantity: 0,\n            Barcode: \"\",\n            barNos: 0,\n            date:new Date()\n        };\n    }\n    addBarcode = (qty) => {\n        this.setState({\n            barNos: qty\n        });\n    }\n    onSubmitHandler = (event) => {\n        var data = {\n            Rollno: this.state.Rollno,\n            Quantity: this.state.Quantity,\n            barcodes: this.state.barcodes\n        }\n        var rol=/[0-9][0-9][0-9][Bb][CEMGAcemga][TELXIMtelxim][0-9][0-9][0-9]/;\n        if(rol.test(this.state.Rollno)==false){\n     alert('Rollno in format 073BCT604 i.e YearFacultyRoll');\n        }\n        else{\n        axios.post('http://localhost:8081/issuebooks', data)\n            .then(res => {\n                console.log(res.data);\n                if(res.data=='Book issued'){\n                    this.props.history.push('/issue-book')\n                    window.location.reload();\n                    alert('Book issued in rollno ' + this.state.Rollno);\n                 //   this.props.history.push('/issue-book');\n                   // window.location.relaod();\n                   \n                }\n                   else {\n                    this.props.history.push('/issue-book');\n                    window.location.reload();\n                        alert('More than 7 books are not available');\n                     \n                    }\n                }\n            )\n            .catch((error) => {\n                console.log(\"Error\");\n            });\n    }\n}\n\n    handleCodeChange = (codeValue, counter) => {\n        let codes = this.state.barcodes;\n        codes[counter] = codeValue;\n        this.setState({\n            barcodes: codes\n        })\n\n        console.log(\"Barcode lists are:\", this.state.barcodes);\n        \n    }\n    onChange = date => this.setState({ date }) \n\n    render() {\n        let barcodeList = [], codes = [];\n\n        const { barNos } = this.state;\n        for (let counter = 0; counter < barNos; counter++) {\n\n\n            barcodeList.push(\n\n\n                <div key={counter}>\n                    <label htmlFor={counter}>{`Barcode ${counter+1}`}</label>\n                    <Input\n                        type=\"number\"\n                        name={counter}\n                        data-id={counter}\n                        id={counter}\n                        value = ''\n                        inputSize=\"inputSmall\"\n                        changed = { (e) => this.handleCodeChange(e.target.value, counter)}\n                    />\n\n                </div>\n            );\n        }\n\n\n        return (\n              \n\n            <div className=\"App left\" >\n                <h1 className=\"Header\">ISSUE BOOK</h1>\n                <div>\n                    <Input\n                        inputSize=\"inputSmall\"\n                        type=\"text\"\n                        placeholder='Rollno'\n                        value={this.state.Rollno}\n                        changed={e => this.setState({ Rollno: e.target.value })}\n                    />\n                </div>\n                <div>\n                    <Input\n                        inputSize=\"inputSmall\"\n                        type=\"number\"\n                        placeholder='Quantity'\n                        value={this.state.Quantity}\n                        changed={e => this.setState({ Quantity: e.target.value })}\n                    />\n                </div>\n                <br />\n\n                <button onClick={() => this.addBarcode(this.state.Quantity)}>Add Barcode</button>\n                {barcodeList}\n                <br />\n                < button  class=\"button5 button2\"onClick={this.onSubmitHandler} >ISSUE</button >\n                    <div className='calendar'> <Calendar\n          onChange={this.onChange}\n          value={this.state.date}\n        /> </div>\n            </div >\n\n        );\n    }\n}\n\nexport default Issue;"]},"metadata":{},"sourceType":"module"}